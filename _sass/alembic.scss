/* ============================================================================
   theme.scss — ImSwarnil x Salesforce-ish
   All-in-one SCSS (tokens → mixins → reset → type → layout → components → utils)
   ============================================================================ */

/* --------------------------------
   0) TOKENS / VARIABLES
   -------------------------------- */
$brand-primary: #009ed9; // your brand
$brand-primary-strong: #0176d3; // stronger SF-ish brand
$brand-accent: #05bf85; // secondary accent (legacy link/button)

$ink-900: #0b1221;
$gray-800: #2e2e3a;
$gray-700: #3f4954;
$gray-600: #5b6673;
$gray-500: #8a96a3;
$gray-400: #a8adac;
$gray-300: #cfd7e0;
$gray-200: #e6ebf1;
$gray-100: #f4f6f9;
$white: #fff;

$success: #28a745;
$warning: #ffcd4b;
$danger:  #e03e3e;
$info:    #5ec2ff;

$font-body: Georgia, serif;
$font-heading: "Merriweather", serif;
$font-mono: Menlo, monospace;

$radius-sm: .25rem;
$radius-md: .375rem;
$radius-lg: .5rem;

$border: 1px solid $gray-300;
$shadow-sm: 0 1px 2px rgba(0,0,0,.06);
$shadow-md: 0 4px 12px rgba(0,0,0,.08);

$space-0: 0;
$space-1: .25rem;
$space-2: .5rem;
$space-3: .75rem;
$space-4: 1rem;
$space-5: 1.5rem;
$space-6: 2rem;
$space-8: 3rem;

$bp-sm: 40em;  // 640px
$bp-md: 50em;  // 800px
$bp-lg: 64em;  // 1024px
$bp-xl: 100em; // 1600px

$focus-color: $brand-primary-strong;

/* --------------------------------
   1) MIXINS & PLACEHOLDERS
   -------------------------------- */
@mixin focus-ring {
  outline: none;
  box-shadow: 0 0 0 .12rem rgba($focus-color, .9);
}

@mixin fluid-type($min, $max, $vw-min: 360px, $vw-max: 1440px) {
  font-size: clamp($min, calc(#{$min} + (#{ $max - $min } * ((100vw - #{$vw-min}) / #{ $vw-max - $vw-min }))), $max);
}

@mixin container($max: 1200px) {
  width: 90%;
  max-width: $max;
  margin-inline: auto;
}

@mixin button-base {
  padding: .6rem 1.2rem;
  border: 0;
  border-radius: $radius-md;
  line-height: 1.2;
  font-weight: 600;
  cursor: pointer;
  transition: box-shadow .1s, background-color .1s, color .1s;
  box-shadow: inset 0 0 0 2rem transparent;
  &:hover,
  &:focus-visible { box-shadow: inset 0 0 0 2rem rgba(0,0,0,.08); }
  &:focus-visible { @include focus-ring; }
}

@mixin input-base {
  width: 100%;
  border: 1px solid $gray-400;
  border-radius: $radius-sm;
  background: $white;
  padding: .6rem 1rem;
  transition: border-color .1s, box-shadow .1s, background-color .1s;
  &:hover { border-color: $gray-600; }
  &:focus-visible { border-color: $brand-primary; @include focus-ring; }
}

%code-bg {
  background-color: #fafafa;
  font-family: $font-mono;
}

/* --------------------------------
   2) RESET (modernized)
   -------------------------------- */
*,
*::before,
*::after { box-sizing: border-box; }

html, body { height: 100%; }

html {
  -webkit-text-size-adjust: 100%;
  text-size-adjust: 100%;
}

body {
  margin: 0;
  background: $white;
  color: #384743; // from original CSS
  display: flex;
  flex-direction: column;
  overflow-x: hidden;
}

img, svg, video, canvas, audio, iframe { display: block; max-width: 100%; height: auto; }

a { color: $brand-accent; text-decoration: none; transition: color .1s, background-color .1s; }
a:hover, a:active, a:focus { color: darken($brand-accent, 20%); }
:focus-visible { outline: none; @include focus-ring; }

::selection { background: #242e2b; color: $white; text-shadow: none; }

/* --------------------------------
   3) TYPOGRAPHY (replaces .typeset big block)
   -------------------------------- */
body {
  font-family: $font-body;
  line-height: 2rem;
  @include fluid-type(1.05rem, 1.2rem);
}

.typeset {
  p, ul, ol, dl, label {
    line-height: 2rem;
    margin-bottom: 1.45rem;
    padding-top: .55rem;
    font-feature-settings: 'kern','onum','liga';
  }

  a {
    // fancy underline preserving your vibe, now in brand-primary
    background-image: linear-gradient(to bottom, transparent 50%, $brand-primary 50%);
    background-position: 0 93%;
    background-repeat: repeat-x;
    background-size: 100% .15rem;
    text-shadow: .1rem 0 $white, .15rem 0 $white, -.1rem 0 $white, -.15rem 0 $white;
    &:hover, &:focus-visible {
      background-image: linear-gradient(to bottom, transparent 50%, darken($brand-primary, 12%) 50%);
    }
  }

  // Headings scale
  h1, h2, h3, h4, h5, h6 {
    font-family: $font-heading;
    color: #242e2b;
    font-weight: 700;
  }

  h1 { line-height: 3rem; @include fluid-type(1.9rem, 2.6rem); margin-bottom: .4rem; padding-top: .6rem; }
  h2 { line-height: 3rem; @include fluid-type(1.7rem, 2.3rem); margin-bottom: .3rem; padding-top: .7rem; }
  h3 { line-height: 3rem; @include fluid-type(1.5rem, 2.0rem); margin-bottom: .2rem; padding-top: .8rem; }
  h4 { line-height: 2rem; @include fluid-type(1.3rem, 1.7rem); margin-bottom: -.3rem; padding-top: .4rem; }
  h5 { line-height: 2rem; @include fluid-type(1.2rem, 1.5rem); margin-bottom: -.4rem; padding-top: .44rem; }
  h6 { line-height: 2rem; @include fluid-type(1.1rem, 1.33rem); margin-bottom: -.5rem; padding-top: .5rem; }

  .bold, b, strong { font-weight: 700; }
  .italic, em, i { font-style: italic; }

  .caption { color: $gray-400; @include fluid-type(.85rem, .96rem); line-height: 2rem; margin-bottom: 1.35rem; padding-top: .64rem; }

  blockquote p {
    border-left: .15rem solid $brand-primary;
    font-style: italic;
    padding-left: 1rem;
    margin-bottom: 1.9rem;
    padding-bottom: .54rem;
  }

  hr {
    background-image: linear-gradient(to bottom, transparent 50%, $gray-400 50%);
    background-repeat: repeat-x;
    background-size: 100% .15rem;
    border: 0;
    padding-block: 3rem;
    width: 100%;
  }

  code { @extend %code-bg; font-size: .95rem; line-height: 1rem; padding: .12rem .2rem; color: #242e2b; }
  pre  { @extend %code-bg; display: block; padding: 1rem; margin-bottom: 2rem; white-space: pre; white-space: pre-wrap; overflow-x: auto;
         code { padding: 0; background: none; } }

  .upper { font-kerning: normal; letter-spacing: .1rem; text-transform: uppercase; }
  .small-caps { font-feature-settings: 'smcp','kern'; font-kerning: normal; letter-spacing: .1rem; }
  .lining-numerals { font-feature-settings: 'lnum','kern'; }
  .oldstyle-numerals { font-feature-settings: 'onum','kern'; }

  // list refinements
  ul, ol { margin-bottom: 1.45rem; padding-top: .55rem; }
  ul li, ol li { margin-left: 0; } // mobile-first
  li > p { padding: 0; margin: 0; }

  // custom ordered list counter (cleaner than legacy)
  ol {
    list-style: none;
    counter-reset: list;
    li {
      counter-increment: list;
      position: relative;
      padding-left: 2.25rem;
      &::before {
        content: counter(list) ".";
        position: absolute; left: 0; width: 2rem; text-align: right;
        color: $gray-600;
        font-feature-settings: 'lnum','tnum';
      }
    }
  }
}

/* --------------------------------
   4) LAYOUT (header/footer/feature/main/aside)
   -------------------------------- */
.container { @include container(1200px); }

.header, .footer {
  flex: 0 0 auto;

  .container {
    display: flex;
    justify-content: space-between;
    align-items: center;
    padding-block: 1rem;
    flex-wrap: wrap;
  }

  .logo {
    line-height: 0; display: flex; align-items: center;
    img { max-height: 5rem; }
  }

  .nav { text-align: right; }
}

.footer {
  background: #242e2b;
  color: $gray-400;
  a { color: $gray-400; &:hover { color: $white; } }
}

.feature {
  text-align: center;
  background: $gray-100;
  background-size: cover;
  background-position: center;
  padding-bottom: .4rem;
  margin-bottom: 1.6rem;

  .container {
    min-height: 35vh;
    max-width: 60%;
    display: flex;
    flex-direction: column;
    justify-content: center;
  }
}

.main {
  flex: 1 0 auto;
  display: flex;
  flex-direction: column;
  justify-content: flex-start;
  margin-bottom: 1.6rem;

  @media (min-width: $bp-sm) {
    flex-direction: row;
    justify-content: center;
  }
}

.content {
  @media (min-width: $bp-sm) { width: 62%; }
}

.aside {
  margin-top: $space-4;

  @media (min-width: $bp-sm) {
    max-width: 34%;
    margin-left: 4%;
    flex: 1 0 auto;
    opacity: .5;
    transition: opacity .1s;

    .section { position: sticky; top: 0; }
    &:hover { opacity: 1; }
  }

  &--left {
    @media (min-width: $bp-sm) {
      margin-left: 0; margin-right: 4%; order: -1;
    }
  }
}

/* --------------------------------
   5) NAV
   -------------------------------- */
.nav a { padding: .2rem; }
.nav--social a { display: inline-block; line-height: 1; }

.button--nav {
  @include button-base;
  background: transparent;
  color: $brand-primary;
  min-height: 4rem; min-width: 4rem; margin-bottom: 0;

  @media (min-width: $bp-sm) { display: none; }
  &:hover, &:focus-visible { box-shadow: none; color: darken($brand-primary, 12%); }
}

.list { list-style: none; }
.list--nav { overflow: hidden; margin-bottom: var(--listHeight, 0); }
.item--nav { @media (min-width: $bp-sm) { margin-left: .4rem; display: inline-block; } }
.item--nav:first-of-type { margin-left: 0; }
.item--current a { color: $gray-400; }

/* --------------------------------
   6) BUTTONS
   -------------------------------- */
.button, button, input[type="submit"] {
  @include button-base;
  color: $white;
  background: $brand-primary;
}

.button--neutral     { background: $gray-700; color: $white; }
.button--outline     { background: transparent; color: $brand-primary; border: 1px solid currentColor; }
.button--destructive { background: $danger; color: $white; }
.button--success     { background: $success; color: $white; }

/* --------------------------------
   7) FORMS
   -------------------------------- */
.form { position: relative; margin-bottom: .8rem; }
.form__legend {
  font-style: italic; color: $gray-400; position: absolute; right: 0;
  clip: rect(0 0 0 0); clip-path: inset(50%); height: 1px; width: 1px; overflow: hidden; white-space: nowrap;
}

label { display:block; line-height: 2rem; margin-bottom: 1.45rem; padding-top: .55rem; }

input[type="text"],
input[type="email"],
input[type="search"],
input[type="color"],
textarea,
select { @include input-base; }

textarea { resize: vertical; }
select  { background: #fafafa; }

.required { color: red; }

/* --------------------------------
   8) MEDIA / FIGURES / MAPS
   -------------------------------- */
.figure { line-height: 0; margin-bottom: .8rem;
  &--left  { float: left; padding-right: .8rem; }
  &--right { float: right; text-align: right; padding-left: .8rem; }
  &--center{ text-align: center; clear: both; }
}

.video, .map {
  position: relative; height: 0; padding-bottom: 56.25%;
  iframe { position: absolute; inset: 0; width: 100%; height: 100%; }
}
.map { padding-bottom: 70%; }

audio, video { width: 100%; }

/* --------------------------------
   9) TABLES
   -------------------------------- */
.typeset table {
  width: 100%;
  font-family: $font-heading;
  font-weight: 400;
  font-style: normal;
  font-feature-settings: 'liga','lnum','tnum','kern';
  line-height: 2rem;
  font-size: 1rem;
  border: 1px solid $gray-200;
  border-radius: .25rem;
  overflow: hidden;

  thead th {
    line-height: 2rem;
    font-weight: 700;
    background: $gray-100;
    padding: .6rem 1rem;
  }
  tbody td { padding: .6rem 1rem; border-top: 1px solid $gray-200; }
}

/* --------------------------------
   10) PAGINATION
   -------------------------------- */
.nav--paginator {
  display: flex; justify-content: space-between; text-align: center; color: $gray-400;
}
.pagination { min-width: 20%; }

/* --------------------------------
   11) UTILITIES
   -------------------------------- */
.small { padding-top: .8rem; color: $gray-400; display: inline-block; }
.icon { vertical-align: middle; width: 1.1em; height: 1.1em; fill: currentColor; }
a .icon { transition: fill .1s; &:hover { fill: currentColor; } }

.mt-0{margin-top:0}.mb-0{margin-bottom:0}
.mt-4{margin-top:1rem}.mb-4{margin-bottom:1rem}
.pt-4{padding-top:1rem}.pb-4{padding-bottom:1rem}

.hidden { display: none !important; }
.sr-only { position: absolute; width:1px; height:1px; padding:0; margin:-1px; overflow:hidden; clip:rect(0,0,0,0); white-space:nowrap; border:0; }

/* --------------------------------
   12) ACCESSIBILITY STATES / FOCUS
   -------------------------------- */
a:focus,
a:hover:focus,
button:focus,
button:hover:focus,
.button:focus,
.button:hover:focus,
input:focus,
input:hover:focus,
textarea:focus,
textarea:hover:focus,
select:focus,
select:hover:focus { @include focus-ring; }

/* --------------------------------
   13) OPTIONAL DARK MODE (toggle via data-theme="dark" on <html>)
   -------------------------------- */
:root[data-theme="dark"] {
  --bg: #0f172a;
  --fg: #e5e7eb;
  --muted: #9aa1aa;

  body { background: var(--bg); color: var(--fg); }
  .feature { background: #0b1221; }
  .footer { background: #0b1221; color: var(--muted); a { color: var(--muted); &:hover { color: $white; }} }
  .typeset a {
    text-shadow: .1rem 0 var(--bg), .15rem 0 var(--bg), -.1rem 0 var(--bg), -.15rem 0 var(--bg);
  }
  .typeset hr { background-image: linear-gradient(to bottom, transparent 50%, var(--muted) 50%); }
  .typeset .caption { color: var(--muted); }
  .typeset table {
    border-color: #1f2937;
    thead th { background: #111827; color: var(--fg); }
    tbody td { border-top-color: #1f2937; color: var(--fg); }
  }
}
