/* ============================================================================
   COMPONENTS / POST.SCSS (V2 - Professional Layout)
   Styles for the enhanced, multi-column, ad-ready blog post template.
   ============================================================================ */

/* --- 1. Header Hero --- */
.post-header-hero {
  background-color: var(--sf-bg-1);
  border-bottom: 1px solid var(--sf-line-2);
  padding: var(--sf-6) 0;
  margin-bottom: var(--sf-8);
}

.breadcrumb {
  @include cluster(var(--sf-2), center);
  font-size: var(--sf-text-sm);
  margin-bottom: var(--sf-6);
  a {
    color: var(--sf-fg-2);
    text-decoration: none;
    &:hover { color: var(--sf-brand); }
  }
  span { color: var(--sf-muted); }
  i { color: var(--sf-muted); }
}

.post-title-main {
  font-size: clamp(2rem, 1.5rem + 2.5vw, 3.25rem);
  font-weight: 800;
  line-height: var(--sf-leading-tight);
  color: var(--sf-fg);
  margin: 0 0 var(--sf-4) 0;
}

.post-meta-main {
  @include cluster(var(--sf-5));
  color: var(--sf-fg-2);
  margin-bottom: var(--sf-6);
  span, time { @include cluster(var(--sf-2), center); }
  i { font-size: 1.25rem; color: var(--sf-fg-3); }
}

.post-feature-image-main {
  margin: 0;
  img {
    width: 100%;
    max-height: 500px;
    object-fit: cover;
    border-radius: var(--sf-radius-lg);
    border: 1px solid var(--sf-line-2);
  }
}

/* --- 2. Main Grid Layout --- */
.post-grid-container {
  display: grid;
  padding-inline: var(--sf-container-padding);
  margin-inline: auto;
  
  // Mobile: Single column
  grid-template-columns: minmax(0, 1fr);
  gap: var(--sf-8);
  
  // Tablet: Content + Right Sidebar
  @include breakpoint(lg) {
    grid-template-columns: minmax(0, 1fr) 300px; // A wider sidebar
    gap: var(--sf-8);
  }

  // Wide Desktop: Left Ad + Content + Right Sidebar
  @include breakpoint(xl) {
    max-width: 1600px;
    grid-template-columns: 1fr minmax(auto, var(--sf-container-lg)) 1fr;
    gap: var(--sf-6);
  }
}

/* --- 3. Main Content Column --- */
.post-content-main {
  // On wide screens, this is the center column
  @include breakpoint(xl) {
    grid-column: 2 / 3;
  }
}

.post-body.typeset {
  // Typography styles can be reused from your previous post.scss
  // Or defined here for more control.
  font-size: 1.125rem;
  color: var(--sf-fg);
  line-height: var(--sf-leading-relaxed);
  h2 { margin-top: var(--sf-10); }
  // ... (add other typography rules like blockquotes, lists, code blocks)
}

/* --- 4. Sidebar Columns (Left & Right) --- */
.post-sidebar-left,
.post-sidebar-right {
  display: none; // Hidden on mobile/tablet

  @include breakpoint(lg) {
    // Show right sidebar on large screens
    &.post-sidebar-right {
      display: flex;
      flex-direction: column;
      gap: var(--sf-6);
      position: sticky;
      top: calc(var(--sf-nav-height) + var(--sf-4));
      align-self: start;
    }
  }

  @include breakpoint(xl) {
    // Show both sidebars on extra-large screens
    display: flex;
    flex-direction: column;
    gap: var(--sf-6);
    position: sticky;
    top: calc(var(--sf-nav-height) + var(--sf-4));
    align-self: start;
  }
}

/* --- 5. New Components --- */

// Social Share Strip
.post-share-strip {
  @include cluster(var(--sf-2), center);
  border-block: 1px solid var(--sf-line-2);
  padding-block: var(--sf-3);
  margin-bottom: var(--sf-8);

  &--footer { margin-top: var(--sf-8); margin-bottom: 0; }

  &__label { font-weight: 600; color: var(--sf-fg-2); margin-right: var(--sf-3); }

  .share-btn {
    display: inline-flex;
    font-size: 1.5rem;
    padding: var(--sf-2);
    border-radius: 50%;
    color: var(--sf-fg-3);
    transition: all .2s ease;

    &:hover {
      transform: scale(1.1);
      &.twitter { color: #1DA1F2; background-color: rgba(#1DA1F2, 0.1); }
      &.linkedin { color: #0A66C2; background-color: rgba(#0A66C2, 0.1); }
      &.facebook { color: #1877F2; background-color: rgba(#1877F2, 0.1); }
      &.email { color: var(--sf-brand); background-color: color-mix(in srgb, var(--sf-brand) 10%, transparent); }
    }
  }
}

// Table of Contents
.toc-card {
  padding: var(--sf-4);
  .card-header { padding: 0 0 var(--sf-3) 0; } // Assuming .card-header exists from toc.html include
  .toc-list {
    list-style: none; padding: 0; margin: 0;
    a {
      display: block; padding: var(--sf-2); text-decoration: none; border-radius: var(--sf-radius-sm);
      color: var(--sf-fg-2); font-size: var(--sf-text-sm);
      &:hover { background-color: var(--sf-bg-1); color: var(--sf-brand); }
    }
  }
}

// "Buy Me a Coffee" & Sponsor Cards
.coffee-card, .sponsor-card {
  display: flex;
  flex-direction: column;
  text-align: center;
  gap: var(--sf-3);
  padding: var(--sf-5);
  background-color: var(--sf-bg-1);

  i { font-size: 2.5rem; color: var(--sf-brand); }
  strong { font-size: var(--sf-text-lg); }
  p { font-size: var(--sf-text-sm); color: var(--sf-fg-2); margin: 0; }
  .sf-btn { margin-top: var(--sf-2); }
}

// Author Bio
.post-author-bio {
  // Re-use styles from home.scss or define here
  display: grid;
  grid-template-columns: auto 1fr;
  gap: var(--sf-5);
  align-items: center;
  background-color: var(--sf-bg-1);
  padding: var(--sf-6);
  border-radius: var(--sf-radius-lg);
  margin-block: var(--sf-10);
  &__avatar { width: 80px; height: 80px; border-radius: 50%; }
  h4 { margin: 0 0 var(--sf-2) 0; font-size: var(--sf-text-lg); }
  p { margin: 0; color: var(--sf-fg-2); }
}

// Comments
.post-comments {
  margin-top: var(--sf-10);
}

/* --- 6. AD PLACEHOLDERS --- */
.ad-placeholder {
  display: flex;
  align-items: center;
  justify-content: center;
  background-color: var(--sf-bg-1);
  border: 1px dashed var(--sf-line-1);
  border-radius: var(--sf-radius-md);
  color: var(--sf-muted);
  font-size: var(--sf-text-sm);
  text-align: center;
  width: 100%;
  
  &--skyscraper {
    min-height: 600px;
    max-width: 160px;
    margin-inline: auto; // Centers the ad in the flexible 1fr column
  }
}