/* ============================================================================
   PAGES / PAGE (Definitive, Unified Grid Layout)
   ============================================================================ */

// --- The Core Page Grid System ---
// This single grid class will be used by BOTH the header and the main body.
.page-grid-container {
  display: grid;
  // [gutter] [main content] [sidebar] [gutter]
  // This robust structure guarantees perfect alignment and no overflow.
  grid-template-columns: minmax(var(--sf-4), 1fr) minmax(0, 800px) minmax(0, 300px) minmax(var(--sf-4), 1fr);
  gap: 0 var(--sf-6); // Column gap only

  // On mobile, collapse to a single content column with simple padding.
  @media (max-width: 959px) {
    grid-template-columns: 1fr;
    padding: 0 var(--sf-4); // Horizontal padding for mobile
    gap: var(--sf-6) 0; // Row gap only
  }
}


// --- Page Header Styling ---
.page-header {
  padding: var(--sf-6) 0;
  border-bottom: 1px solid var(--sf-line-2);
  background: var(--sf-bg-2);
  
  // The content of the header will now live in the main content column.
  &__content {
    grid-column: 2 / 3;
    @media (max-width: 959px) { grid-column: 1 / 2; }
  }

  &__title { margin-bottom: var(--sf-2); }
  &__subtitle { color: var(--sf-muted); max-width: 65ch; }
}


// --- Main Page Content Section ---
.page-body {
  padding: var(--sf-8) 0;
}


// --- Main Content & Sidebar Columns ---
.page-main-content {
  grid-column: 2 / 3;
  @media (max-width: 959px) {
    grid-column: 1 / 2;
    order: 2; // Content below sidebar on mobile
  }
}

.page-sidebar {
  grid-column: 3 / 4;
  position: sticky;
  top: calc(68px + var(--sf-8));
  align-self: start;

  @media (max-width: 959px) {
    grid-column: 1 / 2;
    order: 1; // Sidebar above content on mobile
    position: static;
  }
}

// --- Card Components (No changes needed) ---
.content-card {
  background: var(--sf-bg-2); border: 1px solid var(--sf-line-2);
  border-radius: var(--sf-radius-lg); box-shadow: none;
  &__body { padding: var(--sf-5) var(--sf-6); }
}
.sidebar-card {
  background: var(--sf-bg-2); border: 1px solid var(--sf-line-2);
  border-radius: var(--sf-radius-lg); margin-bottom: var(--sf-4);
  &__header { padding: var(--sf-3) var(--sf-4); border-bottom: 1px solid var(--sf-line-2); }
  &__title { margin: 0; }
  &__body { padding: var(--sf-4); }
}
.sidebar-ad-placeholder {
  display: flex; align-items: center; justify-content: center;
  aspect-ratio: 1 / 1; border: 1px dashed var(--sf-line-1);
  background: color-mix(in oklab, var(--sf-bg-1), white 60%);
  color: var(--sf-muted); font-size: .875rem; text-align: center;
  border-radius: var(--sf-radius-lg);
  .ph-bold { font-size: 2rem; margin-bottom: var(--sf-2); }
}