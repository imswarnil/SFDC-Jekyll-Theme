/* ============================================================================
   COMPONENTS / HOME.SCSS
   Styles for the homepage sections.
   ============================================================================ */

/* --- Base Section & Header Styles --- */
.sf-section {
  padding-block: var(--sf-12);
  &--muted { background-color: var(--sf-bg-1); }
}

.section-header {
  text-align: center;
  margin-bottom: var(--sf-8);
  max-width: var(--sf-measure);
  margin-inline: auto;

  &__pill {
    display: inline-block;
    padding: var(--sf-1) var(--sf-3);
    border-radius: var(--sf-radius-pill);
    background-color: color-mix(in srgb, var(--sf-brand) 10%, transparent);
    color: var(--sf-brand);
    font-size: var(--sf-text-sm);
    font-weight: 600;
    margin-bottom: var(--sf-3);
  }

  &__title {
    font-size: var(--sf-text-3xl);
    font-weight: 700;
    margin: 0 0 var(--sf-4) 0;
  }
  
  &__subtitle {
    font-size: var(--sf-text-lg);
    color: var(--sf-fg-2);
    margin: 0;
  }
}

.section-footer {
  text-align: center;
  margin-top: var(--sf-8);
}


/* --- 1. Hero Section --- */
.hero {
  padding-block: clamp(8rem, 20vh, 12rem);
  text-align: center;
  position: relative;
  overflow: hidden;

  // Grid background from your tokens
  &::before {
    content: '';
    position: absolute;
    inset: 0;
    background-image: linear-gradient(var(--hero-grid) 1px, transparent 1px), linear-gradient(90deg, var(--hero-grid) 1px, transparent 1px);
    background-size: 50px 50px;
    z-index: -2;
  }
  
  // Gradient overlay from your tokens
  &::after {
    content: '';
    position: absolute;
    inset: 0;
    background-image: radial-gradient(circle at 10% 20%, var(--hero-grad-a), transparent 40%),
                      radial-gradient(circle at 90% 80%, var(--hero-grad-b), transparent 40%);
    z-index: -1;
    opacity: 0.7;
  }

  &__content {
    display: flex;
    flex-direction: column;
    align-items: center;
    gap: var(--sf-5);
  }

  &__title {
    font-size: clamp(2rem, 1.3rem + 3.5vw, 3.5rem); // Fluid typography
    font-weight: 800;
    max-width: 20ch;
    color: var(--sf-ink);
  }
  
  &__subtitle {
    font-size: var(--sf-text-lg);
    max-width: 65ch;
    color: var(--sf-fg-2);
  }
  
  &__actions { @include cluster(var(--sf-4)); }
}


/* --- 2. About Section --- */
.about-section {
  .grid {
    @include grid(12, var(--sf-8));
    align-items: center;
  }
  
  &__image-wrapper {
    @include grid-col-span(12);
    @include breakpoint(md) { @include grid-col-span(5); }
    img { @include media-cover; }
  }
  
  &__text {
    @include grid-col-span(12);
    @include breakpoint(md) { @include grid-col-span(7); }
    .section-header { text-align: left; margin: 0 0 var(--sf-5) 0; }
    p { max-width: 60ch; }
  }
}

/* --- 3. Skills Section --- */
.skills-grid {
  @include grid(1, var(--sf-5));
  @include breakpoint(sm) { @include grid(2, var(--sf-5)); }
  @include breakpoint(lg) { @include grid(3, var(--sf-5)); }
}

.skill-card {
  background-color: var(--sf-bg-2);
  border: 1px solid var(--sf-line-2);
  border-radius: var(--sf-radius-lg);
  padding: var(--sf-6);
  text-align: center;
  transition: transform 0.2s ease, box-shadow 0.2s ease;
  
  i {
    font-size: 2.5rem;
    color: var(--sf-brand);
    margin-bottom: var(--sf-4);
  }
  h3 { margin: 0 0 var(--sf-2) 0; }
  p { color: var(--sf-fg-2); margin: 0; }

  @include hover {
    transform: translateY(-5px);
    box-shadow: var(--sf-shadow-md);
  }
}

/* --- 4. Projects Section --- */
.project-grid {
  @include grid(1, var(--sf-6));
  @include breakpoint(sm) { @include grid(2, var(--sf-6)); }
  @include breakpoint(lg) { @include grid(3, var(--sf-6)); }
}
.project-card {
  background-color: var(--sf-bg-2);
  border: 1px solid var(--sf-line-2);
  border-radius: var(--sf-radius-lg);
  overflow: hidden;
  display: flex;
  flex-direction: column;
  transition: transform 0.2s ease, box-shadow 0.2s ease;
  
  @include hover {
    transform: translateY(-8px);
    box-shadow: var(--sf-shadow-lg);
  }
  
  &__image-link {
    display: block;
    aspect-ratio: 16 / 9;
    img { width: 100%; height: 100%; object-fit: cover; }
  }
  
  &__content { padding: var(--sf-5); flex-grow: 1; display: flex; flex-direction: column; }
  &__title { margin: 0 0 var(--sf-3) 0; font-size: var(--sf-text-lg); }
  &__excerpt { color: var(--sf-fg-2); margin-bottom: var(--sf-4); flex-grow: 1; }
  &__tags {
    @include cluster(var(--sf-2));
    span {
      font-size: var(--sf-text-xs);
      background-color: var(--sf-bg-1);
      padding: .2rem .5rem;
      border-radius: var(--sf-radius-sm);
    }
  }
}


/* --- 5. Timeline Section --- */
.timeline {
  position: relative;
  max-width: 768px;
  margin: 0 auto;

  &::before {
    content: '';
    position: absolute;
    width: 2px;
    background-color: var(--sf-line-1);
    top: 0; bottom: 0;
    left: 1.5rem;
    @include breakpoint(md) { left: 50%; transform: translateX(-50%); }
  }

  &__item {
    position: relative;
    margin-bottom: var(--sf-8);
    &:last-child { margin-bottom: 0; }

    &::after { // The dot on the timeline
      content: '';
      position: absolute;
      width: 1rem;
      height: 1rem;
      background-color: var(--sf-bg-2);
      border: 3px solid var(--sf-brand);
      border-radius: 50%;
      top: 0.25rem;
      left: 1.5rem;
      transform: translateX(-50%);
      z-index: 1;
      @include breakpoint(md) { left: 50%; }
    }
  }

  &__content {
    padding: var(--sf-1) 0 var(--sf-1) 3.5rem;
    @include breakpoint(md) { width: 50%; padding-inline: 2.5rem; }
  }
  
  @include breakpoint(md) {
    &__item:nth-child(even) &__content { float: right; text-align: left; }
    &__item:nth-child(odd) &__content { float: left; text-align: right; }
    &__item::after { content: ''; display: table; clear: both; } // Clearfix
  }

  &__date { display: block; font-weight: 600; color: var(--sf-brand); margin-bottom: var(--sf-2); }
  &__title { font-size: var(--sf-text-lg); margin: 0; }
  &__company { color: var(--sf-fg-2); margin-bottom: var(--sf-3); }
  &__desc { color: var(--sf-fg-3); margin: 0; font-size: var(--sf-text-sm); }
}

/* --- 6. Certifications Section --- */
.cert-grid {
  @include cluster(var(--sf-6), center, center);
}
.cert-badge {
  text-align: center;
  img { height: 100px; margin-bottom: var(--sf-2); }
  span { display: block; font-weight: 500; color: var(--sf-fg-2); }
}

/* --- 7. Testimonial Section --- */
.testimonial-section {
  text-align: center;
  .testimonial-icon { font-size: 3rem; color: var(--sf-brand); opacity: 0.5; }
  .testimonial-quote {
    font-size: var(--sf-text-xl);
    font-style: italic;
    font-weight: 500;
    margin: var(--sf-4) 0;
    max-width: 45ch;
    margin-inline: auto;
  }
  .testimonial-cite { color: var(--sf-fg-2); }
}

/* --- 8. Blog Section --- */
.blog-grid {
  @include grid(1, var(--sf-6));
  @include breakpoint(lg) { @include grid(3, var(--sf-6)); }
}
.blog-card {
  background: var(--sf-bg-2);
  border: 1px solid var(--sf-line-2);
  border-radius: var(--sf-radius-lg);
  padding: var(--sf-6);
  
  &__date { display: block; font-size: var(--sf-text-sm); color: var(--sf-muted); margin-bottom: var(--sf-3); }
  &__title { font-size: var(--sf-text-lg); margin: 0 0 var(--sf-3) 0; }
  &__excerpt { color: var(--sf-fg-2); margin-bottom: var(--sf-5); }
  &__link {
    font-weight: 600;
    color: var(--sf-brand);
    text-decoration: none;
    i { vertical-align: middle; transition: transform 0.2s ease; }
    @include hover { i { transform: translateX(4px); } }
  }
}

/* --- 9. Tech Stack Section --- */
.tech-stack-grid { @include cluster(var(--sf-8), center, center); }
.tech-logo {
  text-align: center;
  img { height: 48px; filter: grayscale(1); opacity: 0.7; transition: all 0.2s ease; }
  span { display: block; font-size: var(--sf-text-xs); color: var(--sf-muted); margin-top: var(--sf-2); }
  @include hover {
    img { filter: grayscale(0); opacity: 1; transform: scale(1.1); }
  }
}

/* --- 10. CTA Section --- */
.cta-section {
  text-align: center;
  .section-header__subtitle { max-width: 60ch; margin-inline: auto; }
  .sf-btn { margin-top: var(--sf-6); }
}

/* --- Footer --- */
.sf-footer {
  background-color: var(--sf-bg-1);
  padding-block: var(--sf-6);
  border-top: 1px solid var(--sf-line-2);
  
  &__content {
    display: flex;
    justify-content: space-between;
    align-items: center;
    flex-wrap: wrap;
    gap: var(--sf-4);
  }
  p { margin: 0; color: var(--sf-muted); }
  
  &__socials {
    @include cluster(var(--sf-1));
    a {
      display: inline-flex;
      color: var(--sf-muted);
      font-size: 1.5rem;
      padding: var(--sf-2);
      border-radius: var(--sf-radius-md);
      transition: color .2s ease, background-color .2s ease;
      @include hover { color: var(--sf-brand); background-color: color-mix(in srgb, var(--sf-line-2) 50%, transparent); }
    }
  }
}

/* --- Animation --- */
[data-animate] {
  opacity: 0;
  transform: translateY(30px);
  transition: opacity 0.6s cubic-bezier(0.645, 0.045, 0.355, 1),
              transform 0.6s cubic-bezier(0.645, 0.045, 0.355, 1);
  &[data-animate="fade-right"] { transform: translateX(-30px); }
  &[data-animate="fade-left"] { transform: translateX(30px); }
  
  &.is-visible {
    opacity: 1;
    transform: translateY(0) translateX(0);
  }
}