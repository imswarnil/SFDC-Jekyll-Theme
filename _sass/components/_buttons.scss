/* ============================================================================
   COMPONENTS / BUTTONS.SCSS
   A comprehensive button system inspired by the Salesforce Lightning Design
   System, built entirely with the project's design tokens.
   ============================================================================ */

/* --- 1. Base Button Styles --- */
.sf-btn {
  /* Reset and Structure */
  appearance: none;
  -webkit-appearance: none;
  display: inline-flex;
  align-items: center;
  justify-content: center;
  vertical-align: middle;
  text-align: center;
  text-decoration: none;
  white-space: nowrap;
  user-select: none;
  border: 1px solid transparent;
  cursor: pointer;

  /* Typography & Sizing (from tokens) */
  font-family: var(--sf-font-body);
  font-size: var(--sf-text-base);
  font-weight: 600;
  line-height: var(--sf-leading-tight);
  min-height: var(--sf-control-md);
  padding: 0 var(--sf-control-pad-x, var(--sf-4));
  border-radius: var(--sf-btn-radius, var(--sf-radius-md));

  /* Motion */
  transition: background-color .15s var(--sf-ease-standard, ease),
              border-color .15s var(--sf-ease-standard, ease),
              color .15s var(--sf-ease-standard, ease),
              box-shadow .15s var(--sf-ease-standard, ease),
              transform .1s var(--sf-ease-standard, ease);

  /* States */
  @include focus-visible;

  &:active {
    transform: scale(0.98);
  }

  &[disabled], &.is-disabled {
    opacity: 0.6;
    cursor: not-allowed;
    pointer-events: none;
  }
}

/* --- 2. Button Variants (Colors & Styles) --- */

// [Primary] The main call-to-action button.
.sf-btn--primary {
  background-color: var(--sf-btn-primary-bg);
  color: var(--sf-btn-primary-text);
  border-color: var(--sf-btn-primary-bg);
  
  @include hover {
    background-color: var(--sf-btn-primary-hover-bg);
    border-color: var(--sf-btn-primary-hover-bg);
  }
  &:active {
    background-color: var(--sf-btn-primary-active-bg);
    border-color: var(--sf-btn-primary-active-bg);
  }
}

// [Secondary] The standard, default button.
.sf-btn--secondary {
  background-color: var(--sf-control-bg);
  color: var(--sf-fg);
  border-color: var(--sf-control-border);

  @include hover {
    background-color: var(--sf-line-2);
  }
}

// [Tertiary / Text] For less prominent actions.
.sf-btn--text {
  background-color: transparent;
  color: var(--sf-link);
  border-color: transparent;
  
  @include hover {
    background-color: color-mix(in srgb, var(--sf-brand) 10%, transparent);
  }
}

// [Destructive] For actions that delete or destroy data.
.sf-btn--danger {
  background-color: var(--sf-danger);
  color: #fff;
  border-color: var(--sf-danger);
  
  @include hover {
    background-color: color-mix(in srgb, var(--sf-danger) 90%, black);
    border-color: color-mix(in srgb, var(--sf-danger) 90%, black);
  }
}

// [Destructive Outline] A less prominent destructive action.
.sf-btn--danger-outline {
  background-color: transparent;
  color: var(--sf-danger);
  border-color: var(--sf-danger);
  
  @include hover {
    background-color: color-mix(in srgb, var(--sf-danger) 10%, transparent);
  }
}

// [Success] For positive, confirming actions.
.sf-btn--success {
  background-color: var(--sf-success);
  color: #fff;
  border-color: var(--sf-success);

  @include hover {
    background-color: color-mix(in srgb, var(--sf-success) 90%, black);
    border-color: color-mix(in srgb, var(--sf-success) 90%, black);
  }
}

// [Inverted] For use on dark or colored backgrounds.
.sf-btn--inverted {
  background-color: transparent;
  color: #fff;
  border-color: rgba(255, 255, 255, 0.75);

  @include hover {
    background-color: rgba(255, 255, 255, 0.15);
    border-color: #fff;
  }
}


/* --- 3. Button Sizes --- */
.sf-btn--sm {
  min-height: var(--sf-control-sm);
  font-size: var(--sf-text-sm);
  padding: 0 var(--sf-3);
  i { font-size: var(--sf-icon-sm); }
}

.sf-btn--lg {
  min-height: var(--sf-control-lg);
  font-size: var(--sf-text-lg);
  padding: 0 var(--sf-6);
  i { font-size: var(--sf-icon-lg); }
}


/* --- 4. Button with Icons --- */
.sf-btn {
  gap: var(--sf-2); // Universal gap for flexbox children

  i {
    font-size: var(--sf-icon-md); // Default icon size
    line-height: 1;
  }
}

// [Icon Only] For toolbar actions, etc.
.sf-btn--icon-only {
  padding: 0;
  width: var(--sf-control-md);
  min-height: var(--sf-control-md); // Ensure height matches width
  
  &.sf-btn--sm { width: var(--sf-control-sm); min-height: var(--sf-control-sm); }
  &.sf-btn--lg { width: var(--sf-control-lg); min-height: var(--sf-control-lg); }
}


/* --- 5. Full Width Button --- */
.sf-btn--full {
  width: 100%;
  display: flex;
}