/* ============================================================================
   ABSTRACTS / VARIABLES (THE DEFINITIVE "FOUNDATION" FILE)
   - This single file contains ALL SCSS variables, maps, and logic.
   - It includes all of your original variable maps.
   - It now includes the complete, unabridged utility class generators.
   ============================================================================ */
@use "sass:map";

/* ============================================================================
   1. CORE THEME CONFIGURATION (VARIABLES & MAPS)
   ============================================================================ */

// -----------------------------------------------------------------------------
// 1A. BREAKPOINTS
// -----------------------------------------------------------------------------
$breakpoints: (
  'xs': 30em, 'sm': 40em, 'md': 60em, 'lg': 75em, 'xl': 90em
);
// LEGACY BREAKPOINTS (For backward compatibility)
$bp-xs: map-get($breakpoints, 'xs');
$bp-sm: map-get($breakpoints, 'sm');
$bp-md: map-get($breakpoints, 'md');
$bp-lg: map-get($breakpoints, 'lg');
$bp-xl: map-get($breakpoints, 'xl');

// -----------------------------------------------------------------------------
// 1B. GRID & LAYOUT
// -----------------------------------------------------------------------------
$grid-columns: 12 !default;
$grid-gutter: 1.5rem !default;
$container-sizes: (
  'sm': 40rem, 'md': 48rem, 'lg': 64rem, 'xl': 80rem, '2xl': 96rem
) !default;

// -----------------------------------------------------------------------------
// 1C. Z-INDEX STACKING ORDER
// -----------------------------------------------------------------------------
$z-stack: (
  'base': 0, 'content': 1, 'dropdown': 900, 'sticky': 1000, 'fixed': 1030,
  'modal-backdrop': 1050, 'modal': 1100, 'popover': 1200, 'tooltip': 1300, 'toast': 1400
) !default;

// -----------------------------------------------------------------------------
// 1D. MOTION & ANIMATION
// -----------------------------------------------------------------------------
$durations: (
  '100': .10s, '150': .15s, '200': .20s, '300': .30s,
  '500': .50s, '700': .70s, '1000': 1s
) !default;
$easings: (
  'standard': cubic-bezier(.2, 0, 0, 1), 'decel': cubic-bezier(0, 0, .2, 1),
  'accel': cubic-bezier(.4, 0, 1, 1), 'bounce': cubic-bezier(0.34, 1.56, 0.64, 1)
) !default;

// -----------------------------------------------------------------------------
// 1E. CONTROLS & ICONS
// -----------------------------------------------------------------------------
$control-heights: ( 'sm': 2rem, 'md': 2.5rem, 'lg': 3rem ) !default;
$icon-sizes: ( 'sm': 1rem, 'md': 1.25rem, 'lg': 1.5rem, 'xl': 2rem ) !default;

// -----------------------------------------------------------------------------
// 1F. SPACING & SIZING SCALE
// -----------------------------------------------------------------------------
$spacing-scale: (
  '0':0, '1':.25rem, '2':.5rem, '3':.75rem, '4':1rem, '5':1.5rem, '6':2rem,
  '7':2.5rem, '8':3rem, '9':3.5rem, '10':4rem, '12':6rem
);
// LEGACY COMPATIBILITY: Your original variable for utility generation
$space-keys: map-keys($spacing-scale) !default;

// -----------------------------------------------------------------------------
// 1G. BORDERS & RADII
// -----------------------------------------------------------------------------
$radii: (
  'none': 0, 'sm': .25rem, 'md': .375rem, 'lg': .5rem, 'xl': .75rem,
  'pill': 9999px, 'circle': 50%
);
$border-widths: ( 'default': 1px, 'thick': 2px, 'heavy': 4px );

// -----------------------------------------------------------------------------
// 1H. TYPOGRAPHY
// -----------------------------------------------------------------------------
$font-weights: (
  'light': 300, 'normal': 400, 'medium': 500, 'semibold': 600, 'bold': 700, 'extrabold': 800
);

// -----------------------------------------------------------------------------
// 1I. SHADOW ELEVATION MAP
// -----------------------------------------------------------------------------
$elevations: (
  '1': var(--sf-shadow-sm), '2': var(--sf-shadow-md),
  '3': var(--sf-shadow-lg), '4': var(--sf-shadow-xl)
);


/* ============================================================================
   2. UTILITY CLASS GENERATORS
   These loops create your responsive helper classes for spacing, etc.
   ============================================================================ */

// -----------------------------------------------------------------------------
// 2A. SPACING UTILITIES (MARGINS & PADDINGS)
// -----------------------------------------------------------------------------
$spacing-properties: ( 'm': 'margin', 'p': 'padding' );
$spacing-directions: (
  't': '-block-start', 'b': '-block-end', 's': '-inline-start',
  'e': '-inline-end', 'x': '-inline', 'y': '-block'
);

// Generate base (mobile-first) classes
@each $prop-abbr, $prop-name in $spacing-properties {
  @each $key, $value in $spacing-scale {
    .#{$prop-abbr}-#{$key} { #{$prop-name}: #{$value} !important; }
  }
  @each $dir-abbr, $dir-name in $spacing-directions {
    @each $key, $value in $spacing-scale {
      .#{$prop-abbr}#{$dir-abbr}-#{$key} { #{$prop-name}#{$dir-name}: #{$value} !important; }
    }
  }
  @if $prop-abbr == 'm' {
    .mx-auto { margin-inline: auto !important; }
    .my-auto { margin-block: auto !important; }
    .ms-auto { margin-inline-start: auto !important; }
    .me-auto { margin-inline-end: auto !important; }
  }
}

// Generate responsive classes
@each $bp-name, $bp-value in $breakpoints {
  @media (min-width: $bp-value) {
    @each $prop-abbr, $prop-name in $spacing-properties {
      @each $key, $value in $spacing-scale {
        .#{$prop-abbr}-#{$bp-name}-#{$key} { #{$prop-name}: #{$value} !important; }
      }
      @each $dir-abbr, $dir-name in $spacing-directions {
        @each $key, $value in $spacing-scale {
          .#{$prop-abbr}#{$dir-abbr}-#{$bp-name}-#{$key} { #{$prop-name}#{$dir-name}: #{$value} !important; }
        }
      }
      @if $prop-abbr == 'm' {
        .mx-#{$bp-name}-auto { margin-inline: auto !important; }
        .my-#{$bp-name}-auto { margin-block: auto !important; }
        .ms-#{$bp-name}-auto { margin-inline-start: auto !important; }
        .me-#{$bp-name}-auto { margin-inline-end: auto !important; }
      }
    }
  }
}

// -----------------------------------------------------------------------------
// 2B. OTHER HELPER UTILITIES
// This section includes the helpers from your `helpers.scss` example.
// -----------------------------------------------------------------------------

// --- Text Alignment ---
.text-center { text-align: center; }

// --- Screen Reader Only ---
.sr-only {
  position: absolute !important; width: 1px; height: 1px; padding: 0; margin: -1px;
  overflow: hidden; clip: rect(0, 0, 0, 0); white-space: nowrap; border: 0;
}

// --- Display & Alignment (SLDS Style) ---
.slds-show { display: block !important; }
.slds-hide { display: none !important; }
.slds-inline { display: inline !important; }
.slds-inline-block { display: inline-block !important; }
.slds-flex { display: flex !important; }
.slds-inline-flex { display: inline-flex !important; }

.slds-align_start { align-items: flex-start; }
.slds-align_center { align-items: center; }
.slds-align_end { align-items: flex-end; }
.slds-justify_start { justify-content: flex-start; }
.slds-justify_center { justify-content: center; }
.slds-justify_end { justify-content: flex-end; }
.slds-justify_between { justify-content: space-between; }

// --- Gaps (SLDS Style) ---
@function _space-var($k) { @return unquote("var(--sf-space-#{$k})"); }

@each $k in $space-keys {
  .slds-gap-#{$k} { gap: _space-var($k); }
  .slds-gap-x-#{$k} { column-gap: _space-var($k); }
  .slds-gap-y-#{$k} { row-gap: _space-var($k); }
}

// --- Assistive Text (SLDS Style) ---
.slds-assistive-text { @include sr-only; }
.slds-not-assistive { @include not-sr-only; }