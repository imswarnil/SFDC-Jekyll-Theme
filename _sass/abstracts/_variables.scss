/* ============================================================================
   ABSTRACTS / VARIABLES (THE LOGIC LAYER)
   - Reads simple variables from `_settings.scss`.
   - Organizes them into the structured SCSS maps that power the theme.
   ============================================================================ */
@use "sass:map";

// --- 1. BREAKPOINTS & SIZING MAPS ---
// These maps control the responsive behavior of the theme.
$breakpoints: (
  'break-0': 0,     // 0px       Mobile first
  'break-1': 640,   // 640px   ~ Small tablet up
  'break-2': 800,   // 800px   ~ Large tablet up
  'break-3': 1024,  // 1024px  ~ Desktop up
  'break-4': 1600   // 1600px  ~ Large desktop up
) !default;

$rootsizes: (
  'rootsize-0': 16,   // Base font size for mobile
  'rootsize-1': 16,
  'rootsize-2': 17,
  'rootsize-3': 18,
  'rootsize-4': 19
) !default;

// The `measure` is the ideal readable line-length for text.
$measures: (
  'measure-0': 550,
  'measure-1': 600,
  'measure-2': 650,
  'measure-3': 700,
  'measure-4': 750
) !default;

// The `maxwidths` is the maximum width of the entire page container.
$maxwidths: (
  'width-0': map.get($measures, 'measure-0'), // On mobile, container = measure
  'width-1': map.get($measures, 'measure-1'),
  'width-2': 800,
  'width-3': 1100,
  'width-4': 1400
) !default;

// --- 2. MODULAR SCALE (FOR TYPOGRAPHY) ---
// Defines a typographic scale for each breakpoint for perfect rhythm.
$modular-scale: (
  'ratio-0': 1.2,   // Mobile ratio (major third)
  'ratio-1': 1.2,
  'ratio-2': 1.25,  // Tablet ratio (perfect fourth)
  'ratio-3': 1.25,
  'ratio-4': 1.333  // Desktop ratio (perfect fourth)
) !default;

// Auto-generates the full scale map for the `fontsize` mixin.
$scale: ();
@for $i from 0 to length($breakpoints) {
  $size: map.get($rootsizes, rootsize-#{$i});
  $ratio: map.get($modular-scale, ratio-#{$i});
  $map: (
    'giga': $size * $ratio * $ratio * $ratio * $ratio,
    'mega': $size * $ratio * $ratio * $ratio,
    'alpha': $size * $ratio * $ratio,
    'beta': $size * $ratio,
    'gamma': $size,
    'delta': $size / $ratio,
    'epsilon': $size / $ratio / $ratio,
    'zeta': $size / $ratio / $ratio / $ratio
  );
  $scale: map.merge($scale, ('scale-#{$i}': $map));
}
$modular-scale: $scale;

// --- 3. OTHER CONFIG VARIABLES ---
$gutterwidths: ( 'small': 1rem, 'medium': 2rem, 'large': 4rem ) !default;