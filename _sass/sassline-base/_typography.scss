// _typography.scss
// Salesforce Lightning Design System (SLDS) Inspired Typography
// -------------------------------------------------------------------
// This file defines all the styles for text elements, from basic paragraphs
// and links to complex tables and code blocks. It uses the simple, token-based
// variables from `_variables.scss` and completely replaces the old theme's
// complex baseline and modular scale system.
// -------------------------------------------------------------------


// --- 1. Links ---
// Default styling for all anchor tags.
// -------------------------------------------------------------------
a {
  color: $sfdc-brand-accessible;
  text-decoration: none;
  transition: $sfdc-transition-base;

  &:hover,
  &:focus {
    color: $sfdc-brand-blue-dark;
    text-decoration: underline;
    // Provide a clear focus indicator for accessibility, but a simple
    // underline is often sufficient for links.
    outline: none;
  }
}


// --- 2. Headings ---
// Consistent styling for all heading levels (h1-h6).
// -------------------------------------------------------------------
h1, h2, h3, h4, h5, h6 {
  font-family: $sfdc-font-family-heading;
  font-weight: $font-weight-bold;
  line-height: $line-height-heading;
  color: $sfdc-text-heading;
  // Use our spacing tokens for consistent vertical rhythm.
  margin: $spacing-large 0 $spacing-medium 0;
}

// Apply specific font sizes from our variables.
h1 { font-size: $font-size-h1; }
h2 { font-size: $font-size-h2; }
h3 { font-size: $font-size-h3; }
h4 { font-size: $font-size-h4; }
h5, h6 {
  font-size: $font-size-base;
  // Use a slightly lighter font weight for minor headings to differentiate them.
  font-weight: $font-weight-bold;
}


// --- 3. Typeset Content Container ---
// The `.typeset` class is a wrapper for long-form content like blog posts
// or documentation pages. It ensures all child elements are beautifully styled.
// -------------------------------------------------------------------
.typeset {

  // Paragraphs
  p {
    margin-bottom: $spacing-medium;
  }

  // Lead Paragraph: for a more impactful introduction.
  .lead {
    font-size: $font-size-large;
    color: $sfdc-text-weak;
  }

  // Lists (Unordered and Ordered)
  ul, ol {
    margin: 0 0 $spacing-medium $spacing-large;
    padding-left: 0; // The margin-left handles the indentation.

    // Style nested lists with proper indentation.
    ul, ol {
      margin-top: $spacing-small;
      margin-bottom: $spacing-small;
    }
  }

  ul {
    list-style-type: disc;
  }

  ol {
    list-style-type: decimal;
  }

  li {
    margin-bottom: $spacing-x-small;
    padding-left: $spacing-small;
  }

  // Definition Lists
  dl {
    margin-bottom: $spacing-medium;
  }

  dt {
    font-weight: $font-weight-bold;
    color: $sfdc-text-heading;
  }

  dd {
    margin-left: $spacing-large;
    margin-bottom: $spacing-medium;
  }

  // Blockquotes
  blockquote {
    margin: 0 0 $spacing-large 0;
    padding: $spacing-small $spacing-medium;
    // The 4px left border is a classic SLDS pattern for callouts.
    border-left: 4px solid $sfdc-border-color;
    font-style: italic;
    color: $sfdc-text-weak;

    // Ensure clean spacing inside the blockquote.
    p:last-child {
      margin-bottom: 0;
    }
  }

  // Horizontal Rule
  hr {
    border: 0;
    border-top: $sfdc-border-width solid $sfdc-border-color-weak;
    // Use large margins to create a strong visual break in the content.
    margin: $spacing-xx-large 0;
  }

  // Code (Inline and Block)
  code, pre {
    font-family: $sfdc-font-family-mono;
  }

  // Inline `code` styled like a small token or badge.
  code {
    background-color: $sfdc-code-background;
    padding: $spacing-xx-small $spacing-x-small;
    border-radius: $sfdc-border-radius;
    font-size: $font-size-small;
    border: $sfdc-border-width solid $sfdc-border-color-weak;
    // Prevents text-shadow from being inherited from links.
    text-shadow: none;
  }

  // Code blocks are styled as distinct "cards".
  pre {
    background-color: $sfdc-code-background;
    border: $sfdc-border-width solid $sfdc-border-color-weak;
    border-radius: $sfdc-border-radius;
    padding: $spacing-medium;
    margin-bottom: $spacing-large;
    overflow-x: auto;
    white-space: pre;

    // Reset the styling of the `code` tag *inside* a `pre` tag
    // to avoid double-borders and double-backgrounds.
    code {
      background-color: transparent;
      padding: 0;
      border: none;
      font-size: inherit; // Inherit the font size from the <pre> tag.
      color: inherit;
    }
  }

  // Tables
  table {
    width: 100%;
    border-collapse: collapse;
    margin-bottom: $spacing-large;
    font-size: $font-size-small; // Tables often contain dense data.

    th, td {
      border: $sfdc-border-width solid $sfdc-border-color;
      padding: $spacing-small $spacing-medium;
      text-align: left;
      vertical-align: top;
    }

    // Table Head
    thead th {
      font-weight: $font-weight-bold;
      background-color: $sfdc-code-background;
      vertical-align: bottom;
    }

    // Striped Rows for better readability
    tbody tr:nth-child(odd) {
      background-color: $sfdc-code-background;
    }
  }

  // Bold and Italic
  b, strong {
    font-weight: $font-weight-bold;
  }

  em, i {
    font-style: italic;
  }

  // Caption and small text utility
  small, .caption {
    display: block;
    font-size: $font-size-small;
    color: $sfdc-text-weak;
    margin-top: $spacing-x-small;
  }

  // Add a negative margin to pull captions closer to the element above them.
  h1 + .caption,
  h2 + .caption,
  h3 + .caption,
  figure + .caption {
    margin-top: calc(-1 * #{$spacing-medium} + #{$spacing-x-small});
  }
}