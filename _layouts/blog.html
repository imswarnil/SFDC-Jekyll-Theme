---
layout: default
---

{% comment %}
============================================================================
_layouts/blog.html (Definitive, Complete, Final Version with Sidebar)
============================================================================
{% endcomment %}

{% comment %} --- Logic to get collection title and description --- {% endcomment %}
{% if page.collectionpage %}
  {% assign collectiondata = site.collections | where: "label", page.collectionpage | first %}
  {% assign archive_title = collectiondata.title %}
  {% assign archive_subtitle = collectiondata.description %}
{% else %}
  {% assign archive_title = page.title %}
  {% assign archive_subtitle = page.excerpt %}
{% endif %}

<!-- ========================================================================
     PAGE HEADER (No change, it's perfect)
     ======================================================================== -->
<header class="sf-page-header">
  <div class="sf-container">
    <nav class="blog-breadcrumbs" aria-label="Breadcrumb">
      <a href="{{ '/' | relative_url }}">Home</a><span class="blog-breadcrumbs__separator">/</span><span class="blog-breadcrumbs__current" aria-current="page">{{ archive_title }}</span>
    </nav>
    <h1 class="sf-h1">{{ archive_title }}</h1>
    {% if archive_subtitle %}<div class="sf-text--large typeset">{{ archive_subtitle | markdownify }}</div>{% endif %}
  </div>
</header>

<!-- ========================================================================
     MAIN CONTENT & SIDEBAR GRID
     ======================================================================== -->
<div class="sf-container" style="padding: var(--sf-8) 0;">
  <div class="blog-layout">

    <!-- ======================================================= -->
    <!-- MAIN CONTENT COLUMN                                     -->
    <!-- ======================================================= -->
    <main class="blog-main-content">
      {% if paginator.posts.size > 0 %}
        <!-- The responsive 1-2-3 column post grid -->
        <ul class="blog-post-grid">
          {% for post in paginator.posts %}
            <li>
              <!-- START: Post Card with Rich Meta Details -->
              <article class="blog-post-card" itemscope itemtype="http://schema.org/BlogPosting">
                <meta itemprop="headline" content="{{ post.title | escape }}">
                {% if post.feature_image %}<meta itemprop="image" content="{{ post.feature_image | absolute_url }}">{% endif %}
                <meta itemprop="datePublished" content="{{ post.date | date_to_xmlschema }}">
                
                {% if post.feature_image %}
                  <a href="{{ post.url | relative_url }}" class="blog-post-card__figure" aria-hidden="true" tabindex="-1">
                    <img src="{{ post.feature_image | relative_url }}" alt="">
                  </a>
                {% endif %}
                <div class="blog-post-card__content">
                  <h2 class="sf-h3 blog-post-card__title" itemprop="name">
                    <a href="{{ post.url | relative_url }}">{{ post.title }}</a>
                  </h2>
                  <p class="blog-post-card__excerpt" itemprop="description">
                    {{ post.excerpt | strip_html | truncatewords: 30 }}
                  </p>
                  <footer class="blog-post-card__footer">
                    <div class="blog-post-meta" itemprop="author" itemscope itemtype="http://schema.org/Person">
                      {% assign author = site.authors[post.author] | default: site.authors.default %}
                      {% if author.avatar %}
                        <img src="{{ author.avatar | relative_url }}" alt="Photo of {{ author.name }}" class="blog-post-meta__author-avatar">
                      {% endif %}
                      <div class="blog-post-meta__text">
                        <div class="blog-post-meta__author-name" itemprop="name">{{ author.name | default: "Site Author" }}</div>
                        <div class="blog-post-meta__date"><time datetime="{{ post.date | date_to_xmlschema }}">{{ post.date | date: "%b %d, %Y" }}</time></div>
                      </div>
                    </div>
                  </footer>
                </div>
              </article>
              <!-- END: Post Card -->
            </li>
          {% endfor %}
        </ul>
        
        <!-- START: SLDS-Style Pagination Buttons -->
        {% if paginator.total_pages > 1 %}
        <nav class="blog-pagination" role="navigation" aria-label="Pagination">
          {% if paginator.previous_page %}
            <a href="{{ paginator.previous_page_path | relative_url }}" class="sf-btn sf-btn--neutral">
              <i class="ph-bold ph-arrow-left"></i>
              <span>Newer</span>
            </a>
          {% else %}
            <span></span>
          {% endif %}
          <span class="blog-pagination__text">Page {{ paginator.page }} of {{ paginator.total_pages }}</span>
          {% if paginator.next_page %}
            <a href="{{ paginator.next_page_path | relative_url }}" class="sf-btn sf-btn--neutral">
              <span>Older</span>
              <i class="ph-bold ph-arrow-right"></i>
            </a>
          {% else %}
            <span></span>
          {% endif %}
        </nav>
        {% endif %}
        <!-- END: Pagination -->
      {% else %}
        <div class="sf-card"><div class="sf-card__body typeset"><h3>No Posts Found</h3></div></div>
      {% endif %}
    </main>

    <!-- ======================================================= -->
    <!-- RIGHT SIDEBAR COLUMN                                    -->
    <!-- ======================================================= -->
    <aside class="blog-sidebar">
      
      <!-- Leaderboard Ad Placeholder -->
      <div class="sidebar-ad sf-card">
        <div class="sidebar-ad__content">
          <span>Leaderboard Ad<br>(300x250)</span>
        </div>
      </div>
      
      <!-- You can add other sidebar widgets here, like a category cloud -->

    </aside>

  </div>
</div>