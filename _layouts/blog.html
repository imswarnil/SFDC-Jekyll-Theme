---
layout: default
---

{% comment %} --- Logic to get collection title and description --- {% endcomment %}
{% if page.collectionpage %}
  {% assign collectiondata = site.collections | where: "label", page.collectionpage | first %}
  {% assign archive_title = collectiondata.title %}
  {% assign archive_subtitle = collectiondata.description %}
{% else %}
  {% assign archive_title = page.title %}
  {% assign archive_subtitle = page.excerpt %}
{% endif %}

<!-- ========================================================================
     PAGE HEADER (V2)
     Slightly refined for better visual rhythm.
     ======================================================================== -->
<header class="sf-page-header">
  <div class="sf-container">
    <nav class="breadcrumb" aria-label="Breadcrumb">
      <a href="{{ '/' | relative_url }}">Home</a>
      <i class="ph-bold ph-caret-right"></i>
      <span aria-current="page">{{ archive_title }}</span>
    </nav>
    <h1 class="sf-h1">{{ archive_title }}</h1>
    {% if archive_subtitle %}
      <div class="sf-text--large typeset">{{ archive_subtitle | markdownify }}</div>
    {% endif %}
  </div>
</header>

<!-- ========================================================================
     MAIN BLOG LAYOUT GRID
     ======================================================================== -->
<div class="blog-layout-container">
    <main class="blog-main-content">
        <!-- TOP LEADERBOARD AD -->
        <div class="ad-placeholder ad-placeholder--leaderboard">
            <span>Top Leaderboard Ad - 728x90</span>
        </div>

        {% assign posts = paginator.posts %}
        {% if posts.size > 0 %}
            <!-- FEATURED POST (First post on page 1) -->
            {% if paginator.page == 1 %}
                {% assign featured_post = posts | first %}
                <section class="blog-featured-post">
                    <a href="{{ featured_post.url | relative_url }}" class="blog-featured-post__image-link">
                        <img src="{{ featured_post.feature_image | relative_url }}" alt="">
                    </a>
                    <div class="blog-featured-post__content">
                        <div class="blog-post-card__category">{{ featured_post.categories | first }}</div>
                        <h2 class="sf-h2">
                            <a href="{{ featured_post.url | relative_url }}">{{ featured_post.title }}</a>
                        </h2>
                        <p>{{ featured_post.excerpt | strip_html | truncatewords: 40 }}</p>
                        <div class="blog-post-card__meta">
                            <time datetime="{{ featured_post.date | date_to_xmlschema }}">{{ featured_post.date | date: "%B %d, %Y" }}</time>
                        </div>
                    </div>
                </section>
                {% assign posts = posts | shift %} <!-- Remove the first post for the grid -->
            {% endif %}

            <!-- MAIN POST GRID -->
            <div class="blog-post-grid">
                {% for post in posts %}
                    <article class="sf-card sf-card--interactive blog-post-card">
                        <a href="{{ post.url | relative_url }}" class="blog-post-card__image-link">
                            <img class="sf-card__image" src="{{ post.feature_image | relative_url }}" alt="">
                        </a>
                        <div class="sf-card__body">
                            <div class="blog-post-card__category">{{ post.categories | first }}</div>
                            <h3 class="sf-h4 blog-post-card__title">
                                <a href="{{ post.url | relative_url }}">{{ post.title }}</a>
                            </h3>
                            <div class="blog-post-card__meta">
                                <time datetime="{{ post.date | date_to_xmlschema }}">{{ post.date | date: "%B %d, %Y" }}</time>
                            </div>
                        </div>
                    </article>
                    
                    <!-- IN-FEED AD (Inject ad after the 2nd post in the grid) -->
                    {% if forloop.index == 2 %}
                        <div class="ad-placeholder ad-placeholder--in-feed">
                            <span>In-Feed Ad</span>
                        </div>
                    {% endif %}
                {% endfor %}
            </div>

            <!-- PAGINATION -->
            {% if paginator.total_pages > 1 %}
                <nav class="blog-pagination" role="navigation">
                    {% if paginator.previous_page %}
                        <a href="{{ paginator.previous_page_path | relative_url }}" class="sf-btn sf-btn--secondary">
                            <i class="ph-bold ph-arrow-left"></i><span>Newer</span>
                        </a>
                    {% else %}
                        <span></span> <!-- Empty span for grid alignment -->
                    {% endif %}
                    <span class="blog-pagination__text">Page {{ paginator.page }} of {{ paginator.total_pages }}</span>
                    {% if paginator.next_page %}
                        <a href="{{ paginator.next_page_path | relative_url }}" class="sf-btn sf-btn--secondary">
                            <span>Older</span><i class="ph-bold ph-arrow-right"></i>
                        </a>
                    {% endif %}
                </nav>
            {% endif %}

        {% else %}
            <div class="sf-card"><div class="sf-card__body"><h3>No Posts Found</h3><p>There are no posts in this category yet. Please check back later!</p></div></div>
        {% endif %}
    </main>

    <!-- STICKY RIGHT SIDEBAR -->
    <aside class="blog-sidebar">
        <!-- SKYSCRAPER AD -->
        <div class="ad-placeholder ad-placeholder--skyscraper">
            <span>Sidebar Skyscraper<br>300x600</span>
        </div>
        <!-- You can add more widgets here like categories, recent posts, etc. -->
    </aside>
</div>