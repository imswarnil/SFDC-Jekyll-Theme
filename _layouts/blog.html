---
layout: default
---

{% comment %}
============================================================================
_layouts/blog.html (Definitive, Complete, Final Version)
============================================================================
{% endcomment %}

{% comment %} --- Logic to get collection title and description --- {% endcomment %}
{% if page.collectionpage %}
  {% assign collectiondata = site.collections | where: "label", page.collectionpage | first %}
  {% assign archive_title = collectiondata.title %}
  {% assign archive_subtitle = collectiondata.description %}
{% else %}
  {% assign archive_title = page.title %}
  {% assign archive_subtitle = page.excerpt %}
{% endif %}


<!-- ========================================================================
     PAGE HEADER
     ======================================================================== -->
<header class="sf-page-header">
  <div class="sf-container">
    <nav class="blog-breadcrumbs" aria-label="Breadcrumb">
      <a href="{{ '/' | relative_url }}">Home</a>
      <span class="blog-breadcrumbs__separator">/</span>
      <span class="blog-breadcrumbs__current" aria-current="page">{{ archive_title }}</span>
    </nav>
    <h1 class="sf-h1 sf-page-header__title">{{ archive_title }}</h1>
    {% if archive_subtitle %}
      <div class="sf-text--large sf-page-header__subtitle typeset">
        {{ archive_subtitle | markdownify }}
      </div>
    {% endif %}
  </div>
</header>


<!-- ========================================================================
     MAIN CONTENT & SIDEBAR
     ======================================================================== -->
<div class="sf-container" style="padding: var(--sf-8) 0;">
  <div class="blog-layout">

    <!-- ======================================================= -->
    <!-- MAIN CONTENT COLUMN                                     -->
    <!-- ======================================================= -->
    <main class="blog-main-content">
      
      {% if paginator.posts.size > 0 %}
        <!-- The responsive 1-2-3 column post grid -->
        <ul class="post-grid">
          {% for post in paginator.posts %}
            <li>
              <!-- =========================================== -->
              <!-- START: Post Card HTML (Built directly here) -->
              <!-- =========================================== -->
              <article class="post-card">
                {% if post.feature_image %}
                  <a href="{{ post.url | relative_url }}" class="post-card__figure" aria-hidden="true" tabindex="-1">
                    <img src="{{ post.feature_image | relative_url }}" alt="" loading="lazy">
                  </a>
                {% endif %}
                <div class="post-card__content">
                  <h2 class="sf-h3 post-card__title">
                    <a href="{{ post.url | relative_url }}">{{ post.title }}</a>
                  </h2>
                  <p class="post-card__excerpt">
                    {{ post.excerpt | strip_html | truncatewords: 30 }}
                  </p>
                  <footer class="post-card__footer">
                    <div class="post-card-meta">
                      {% assign author = site.authors[post.author] | default: site.authors.default %}
                      {% if author.avatar %}
                        <img src="{{ author.avatar | relative_url }}" alt="Photo of {{ author.name }}" class="post-card-meta__author-avatar">
                      {% endif %}
                      <div class="post-card-meta__text">
                        <div class="post-card-meta__author-name">{{ author.name | default: "Site Author" }}</div>
                        <div class="post-card-meta__date">{{ post.date | date: "%b %d, %Y" }}</div>
                      </div>
                    </div>
                  </footer>
                </div>
              </article>
              <!-- ========================================= -->
              <!-- END: Post Card HTML                       -->
              <!-- ========================================= -->
            </li>
          {% endfor %}
        </ul>
        
        <!-- =============================================== -->
        <!-- START: Pagination HTML (Built directly here)    -->
        <!-- =============================================== -->
        {% if paginator.total_pages > 1 %}
        <nav class="blog-pagination" role="navigation" aria-label="Pagination">
          {% if paginator.previous_page %}
            <a href="{{ paginator.previous_page_path | relative_url }}" class="sf-btn sf-btn--neutral">
              <i class="ph-bold ph-arrow-left"></i>
              <span>Newer</span>
            </a>
          {% else %}
            <span></span> <!-- Empty span for flexbox alignment -->
          {% endif %}

          <span class="blog-pagination__text">Page {{ paginator.page }} of {{ paginator.total_pages }}</span>

          {% if paginator.next_page %}
            <a href="{{ paginator.next_page_path | relative_url }}" class="sf-btn sf-btn--neutral">
              <span>Older</span>
              <i class="ph-bold ph-arrow-right"></i>
            </a>
          {% else %}
            <span></span> <!-- Empty span for flexbox alignment -->
          {% endif %}
        </nav>
        {% endif %}
        <!-- ============================================= -->
        <!-- END: Pagination HTML                          -->
        <!-- ============================================= -->

      {% else %}
        <div class="sf-card"><div class="sf-card__body typeset"><h3>No Posts Found</h3></div></div>
      {% endif %}

    </main>

    <!-- ======================================================= -->
    <!-- SIDEBAR COLUMN                                          -->
    <!-- ======================================================= -->
    <aside class="blog-sidebar">
      
      <!-- Category Cloud Widget -->
      <div class="sidebar-card">
        <header class="sidebar-card__header">
          <h3 class="sf-h4 sidebar-card__title">Topics</h3>
        </header>
        <div class="sidebar-card__body">
          <ul class="category-cloud-list">
            {% assign categories = site.categories | sort %}
            {% for category in categories %}
              {% assign category_name = category | first %}
              {% assign post_count = site.categories[category_name].size %}
              <li>
                <a href="/categories/#{{ category_name | slugify }}" class="sf-badge category-cloud-tag">
                  <span>{{ category_name }}</span>
                  <span class="category-cloud-tag__count">{{ post_count }}</span>
                </a>
              </li>
            {% endfor %}
          </ul>
        </div>
      </div>
      
      <!-- Ad Placeholder -->
      <div class="sidebar-card">
        <div class="sidebar-ad-placeholder">
          <div>
            <i class="ph-bold ph-presentation-chart"></i>
            <span>Advertisement</span>
          </div>
        </div>
      </div>

    </aside>

  </div>
</div>